@page "/"
@inject JournalApp.Services.AuthService Auth
@inject NavigationManager Nav

<div class="page-header">
    <div>
        <h1 class="h-title">🏠 Home</h1>
        <p class="h-sub">Welcome back, @Auth.CurrentUsername</p>
    </div>
</div>

<div class="grid cols-2">
    <div class="card">
        <div style="font-weight:900; font-size:1.05rem;">📝 Quick Start</div>
        <div class="helper">Start writing today’s journal entry.</div>

        <div class="section">
            <button class="btn primary" @onclick="GoToday">
                Write Today’s Journal
            </button>
        </div>
    </div>

    <div class="card">
        <div style="font-weight:900; font-size:1.05rem;">🔥 Streak</div>
        <div class="helper">Your daily journaling habit.</div>

        <div class="section">
            <div style="font-size:2rem; font-weight:1000;">
                0 days
            </div>
        </div>
    </div>
</div>

@code {
    protected override void OnInitialized()
    {
        // SAFETY GUARD
        if (!Auth.IsLoggedIn)
        {
            Nav.NavigateTo("/login", true);
        }
    }

    private void GoToday()
    {
        Nav.NavigateTo("/today");
    }
}